<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Login -->
<div class="container" id="loginContainer">
    <h1>Admin Access</h1>
    <p>Enter the secret code to access the admin panel.</p>
    <input type="password" id="adminPassword" placeholder="Enter Code" />
    <button class="button" onclick="checkPassword()">Enter</button>
    <p id="error" style="color:#ff6666;margin-top:1rem;"></p>
</div>

<!-- Admin Panel -->
<div class="container" id="adminPanel" style="display:none;">
    <h1>Welcome, Admin!</h1>
    <div class="admin-section">
        <button class="button" onclick="toggleSection('users')">User List</button>
        <button class="button" onclick="toggleSection('logs')">View Logs</button>
        <button class="button" onclick="toggleSection('settings')">Settings</button>
        <button class="button" onclick="logout()">Logout</button>
    </div>

    <!-- Users -->
    <div id="users" class="admin-content">
        <h3>User List</h3>
        <ul class="user-list" id="userList">
            <li>User 1 <button class="button" onclick="kickUser(this)">Kick</button></li>
            <li>User 2 <button class="button" onclick="kickUser(this)">Kick</button></li>
            <li>User 3 <button class="button" onclick="kickUser(this)">Kick</button></li>
        </ul>
        <input type="text" id="newUser" placeholder="New username">
        <button class="button" onclick="addUser()">Add User</button>
    </div>

    <!-- Logs -->
    <div id="logs" class="admin-content">
        <h3>Site Logs</h3>
        <textarea id="logsText" rows="8" readonly>No logs yet.</textarea>
    </div>

    <!-- Settings -->
    <div id="settings" class="admin-content">
        <h3>Site Settings</h3>
        <input type="text" id="siteTitle" placeholder="Site Title" value="My Awesome Site">
        <input type="text" id="themeColor" placeholder="Theme Color" value="Purple/Pink/Blue">
        <button class="button" onclick="saveSettings()">Save Settings</button>
        <p id="settingsStatus" style="margin-top:0.5rem;"></p>
    </div>
</div>

<script>
// Password obfuscation
const encoded = [80,101,110,103,117,105,110,109,97,110,53,53]; // Penguinman55

// Login
function checkPassword(){
    const input = document.getElementById("adminPassword").value;
    const codes = input.split('').map(c=>c.charCodeAt(0));
    if(JSON.stringify(codes) === JSON.stringify(encoded)){
        document.getElementById("loginContainer").style.display="none";
        document.getElementById("adminPanel").style.display="block";
        toggleSection('users'); // show users by default
    } else {
        document.getElementById("error").textContent="Incorrect code!";
    }
}

// Section toggle with smooth animation
function toggleSection(id){
    const sections = document.querySelectorAll('.admin-content');
    sections.forEach(sec => {
        sec.classList.remove('show');
        sec.style.display = 'none';
    });
    const section = document.getElementById(id);
    section.style.display = 'block';
    setTimeout(()=>{section.classList.add('show');},50);
}

// Logout
function logout(){
    document.getElementById("adminPanel").style.display="none";
    document.getElementById("loginContainer").style.display="block";
    document.getElementById("adminPassword").value='';
    document.getElementById("error").textContent='';
}

// Users
function addUser(){
    const newUser = document.getElementById('newUser').value.trim();
    if(newUser){
        const li = document.createElement('li');
        li.innerHTML = `${newUser} <button class="button" onclick="kickUser(this)">Kick</button>`;
        document.getElementById('userList').appendChild(li);
        appendLog(`Added user: ${newUser}`);
        document.getElementById('newUser').value='';
    }
}

function kickUser(button){
    const username = button.parentElement.textContent.replace('Kick','').trim();
    button.parentElement.remove();
    appendLog(`Kicked user: ${username}`);
}

// Logs
function appendLog(msg){
    const logs = document.getElementById('logsText');
    const timestamp = new Date().toLocaleString();
    logs.value += `[${timestamp}] ${msg}\n`;
    logs.scrollTop = logs.scrollHeight;
}

// Settings
function saveSettings(){
    const title = document.getElementById('siteTitle').value;
    const theme = document.getElementById('themeColor').value;
    document.getElementById('settingsStatus').textContent = `Settings saved: Title = ${title}, Theme = ${theme}`;
    appendLog(`Settings updated: Title=${title}, Theme=${theme}`);
}
</script>

</body>
</html>
